@model BobaShop.Web.Models.AdminDashboardVm
@{
    ViewData["Title"] = "Admin Dashboard";
}

<div class="container py-4">
    <h1 class="mb-2">Admin Dashboard</h1>
    <p class="text-muted">Only users in the <strong>Admin</strong> role can see this.</p>

    <div class="row g-3 mt-3">
        <!-- Auth status -->
        <div class="col-md-6">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <h5 class="card-title">Your Session</h5>
                    <p class="mb-1"><span class="badge bg-success">Authenticated</span></p>
                    <p class="mb-1"><strong>Email:</strong> @Model.Email</p>
                    <p class="mb-1"><strong>User Id:</strong> @Model.UserId</p>
                    <p class="mb-1">
                        <strong>Roles:</strong>
                        @foreach (var r in Model.Roles)
                        {
                            <span class="badge bg-primary me-1">@r</span>
                        }
                    </p>
                    <p class="mb-0"><strong>Rewards:</strong> @Model.RewardPoints</p>
                </div>
            </div>
        </div>

        <!-- App & API -->
        <div class="col-md-6">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <h5 class="card-title">System</h5>
                    <p class="mb-1"><strong>Environment:</strong> @Model.Environment</p>
                    <p class="mb-1"><strong>App Version:</strong> @Model.AppVersion</p>
                    <p class="mb-1"><strong>Server Time:</strong> @Model.ServerTime</p>
                    <hr />
                    <h6 class="mb-2">API v1 Status</h6>
                    <p class="mb-1"><strong>Base URL:</strong> @Model.ApiBaseUrl</p>
                    <p class="mb-1">
                        <strong>Status:</strong>
                        @if (Model.ApiReachable)
                        {
                            <span class="badge bg-success">Reachable</span>
                        }
                        else
                        {
                            <span class="badge bg-danger">Unavailable</span>
                        }
                    </p>
                    <p class="mb-0"><strong>Drinks in Menu:</strong> @Model.DrinksCount</p>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-4 d-flex gap-2">
        <a class="btn btn-outline-primary" asp-controller="Products" asp-action="Index">Manage Menu</a>
        <a class="btn btn-outline-secondary" asp-controller="Rewards" asp-action="Index">Rewards</a>
        <a class="btn btn-outline-dark" asp-controller="Home" asp-action="Index">Home</a>
    </div>
</div>
